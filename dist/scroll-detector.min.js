!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.cameraControlsFactory=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(){return i.scrollTop||o.scrollTop}var n=new(function(){function e(){t(this,e),this._listeners={}}return e.prototype.on=function(t,e){var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},e.prototype.hasListener=function(t,e){var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},e.prototype.off=function(t,e){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},e.prototype.emit=function(t){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var n=[],i=0,o=e.length;for(i=0;i<o;i++)n[i]=e[i];for(i=0;i<o;i++)n[i].call(this,t)}},e}()),i=document.documentElement,o=document.body,r=null,u=null,l=window.innerHeight,s=null,f=u,c=!1,a=null,d=!1;return n.mute=function(){c=!0},n.unmute=function(){u=e(),c=!1},n.getScrollTop=function(){return r},window.addEventListener("scroll",function(t,e){var n=void 0,i=void 0;return function(){var o=Date.now();n&&o<n+e?(clearTimeout(i),i=setTimeout(function(){n=o,t()},e)):(n=o,t())}}(function(){if(!c){if(r=e(),!u)return u=r,f=u,void n.emit({type:"scroll"});var t=i.scrollHeight,o=window.innerHeight,p=t-o,v=r<=0,m=p<=r;if(!(Math.abs(r-u)<=1)||v||m){if(n.emit({type:"scroll"}),v)return 0!==s&&(n.emit({type:"at:top"}),s=0),void(u=0);if(m)return 1!==s&&(n.emit({type:"at:bottom"}),s=1),void(u=p);s=null;var y=o!==l;if(l=o,y)u=r;else{var h=a;a=r-u<0,u=r;var w=h!==a;a&&n.emit({type:"scroll:up"}),a||n.emit({type:"scroll:down"}),w&&(f=r,d=!1,a||n.emit({type:"change:down"})),!d&&Math.abs(f-r)>=30&&(d=!0,a&&n.emit({type:"delay:up"}))}}}}),50),n});
