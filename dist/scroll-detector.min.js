!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.scrollDetector=e()}(this,function(){"use strict";function t(){return r.scrollTop||l.scrollTop}function e(){if(!d){if(u=t(),!s)return s=u,void o.emit({type:"scroll"});var l=r.scrollHeight,m=window.innerHeight,h=l-m,y=Date.now(),w=u<=100||h<=u+100?0:100;if(p&&y<p+w)return clearTimeout(v),void(v=setTimeout(function(){p=y,e()},w));p=y;var g=u<=0,T=h<=u;if(!(Math.abs(u-s)<=1)||g||T){if(o.emit({type:"scroll"}),g)return c!==n&&(o.emit({type:"at:top"}),c=n),void(s=0);if(T)return c!==i&&(o.emit({type:"at:bottom"}),c=i),void(s=h);c=null;var x=m!==f;if(f=m,x)s=u;else{var _=a;a=u-s<0,s=u;null!==_&&_!==a&&(a&&o.emit({type:"change:up"}),a||o.emit({type:"change:down"})),a&&o.emit({type:"scroll:up"}),a||o.emit({type:"scroll:down"})}}}}var n=0,i=1,o=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners={}}return t.prototype.on=function(t,e){var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},t.prototype.hasListener=function(t,e){var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},t.prototype.off=function(t,e){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},t.prototype.emit=function(t){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var n=[],i=0,o=e.length;for(i=0;i<o;i++)n[i]=e[i];for(i=0;i<o;i++)n[i].call(this,t)}},t}()),r=document.documentElement,l=document.body,u=null,s=null,f=window.innerHeight,c=null,d=!1,a=null,p=void 0,v=void 0;return o.mute=function(){d=!0},o.unmute=function(){s=t(),d=!1},o.getScrollTop=function(){return u},window.addEventListener("scroll",e),o});
