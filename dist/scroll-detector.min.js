!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.scrollDetector=e()}(this,function(){"use strict";function t(){return n.scrollTop||i.scrollTop}var e=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners={}}return t.prototype.on=function(t,e){var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},t.prototype.hasListener=function(t,e){var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},t.prototype.off=function(t,e){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},t.prototype.emit=function(t){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var n=[],i=0,o=e.length;for(i=0;i<o;i++)n[i]=e[i];for(i=0;i<o;i++)n[i].call(this,t)}},t}()),n=document.documentElement,i=document.body,o=null,r=null,l=window.innerHeight,u=null,s=r,f=!1,c=null,a=!1;return e.mute=function(){f=!0},e.unmute=function(){r=t(),f=!1},e.getScrollTop=function(){return o},window.addEventListener("scroll",function(t,e){var n=void 0,i=void 0;return function(){var o=Date.now();n&&o<n+e?(clearTimeout(i),i=setTimeout(function(){n=o,t()},e)):(n=o,t())}}(function(){if(!f){if(o=t(),!r)return r=o,s=r,void e.emit({type:"scroll"});var i=n.scrollHeight,d=window.innerHeight,p=i-d,v=o<=0,m=p<=o;if(!(Math.abs(o-r)<=1)||v||m){if(e.emit({type:"scroll"}),v)return 0!==u&&(e.emit({type:"at:top"}),u=0),void(r=0);if(m)return 1!==u&&(e.emit({type:"at:bottom"}),u=1),void(r=p);u=null;var h=d!==l;if(l=d,h)r=o;else{var y=c;c=o-r<0,r=o;var w=y!==c;c&&e.emit({type:"scroll:up"}),c||e.emit({type:"scroll:down"}),w&&(s=o,a=!1,c||e.emit({type:"change:down"})),!a&&Math.abs(s-o)>=30&&(a=!0,c&&e.emit({type:"delay:up"}))}}}}),60),e});
